import{r as s,j as e,Y as j,y as o}from"./app-rbljbsha.js";import{A as v}from"./AuthenticatedLayout--M00iCbz.js";import"./ApplicationLogo-B-TRA0jl.js";import"./transition-B1-gpC5a.js";function C({messages:h,auth:N}){const[c,x]=s.useState(null),[d,u]=s.useState(!1),[a,l]=s.useState(null),[r,n]=s.useState({name:"",content:""}),m=t=>{confirm("Are you sure you want to delete this message?")&&(x(t),o.delete(route("messages.destroy",t),{onFinish:()=>x(null)}))},p=t=>{l(t),n({name:t.name,content:t.content})},y=()=>{l(null),n({name:"",content:""})},g=t=>{o.put(route("messages.update",t),r,{onSuccess:()=>{l(null),n({name:"",content:""})}})};return e.jsxs(v,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Messages"}),children:[e.jsx(j,{title:"Messages"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Content"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h.data.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-gray-900 dark:text-gray-100",children:(a==null?void 0:a.id)===t.id?e.jsx("input",{type:"text",value:r.name,onChange:i=>n({...r,name:i.target.value}),className:"rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900"}):t.name}),e.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-gray-100",children:(a==null?void 0:a.id)===t.id?e.jsx("textarea",{value:r.content,onChange:i=>n({...r,content:i.target.value}),className:"w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900",rows:3}):t.content.length>50?e.jsxs("div",{className:"flex flex-col items-start",children:[d?t.content:t.content.substring(0,50)+"...",e.jsx("button",{onClick:()=>u(!d),className:"text-blue-600 hover:text-blue-900",children:d?"Show less":"Read more"})]}):t.content}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-gray-900 dark:text-gray-100",children:new Date(t.created_at).toLocaleDateString()}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:(a==null?void 0:a.id)===t.id?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>g(t.id),className:"text-green-600 hover:text-green-900",children:"Save"}),e.jsx("button",{onClick:y,className:"text-gray-600 hover:text-gray-900",children:"Cancel"})]}):e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>p(t),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),e.jsx("button",{onClick:()=>m(t.id),disabled:c===t.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:c===t.id?"Deleting...":"Delete"})]})})]},t.id))})]})})})})})})]})}export{C as default};
