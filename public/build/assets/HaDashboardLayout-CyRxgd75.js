import{r,j as e,b as l}from"./app-BO5IYLQU.js";const h=!1,i="https://ucarecdn.com/05f649bf-b70b-4cf8-90f7-2588ce404a08/";function m({children:t}){const[u,s]=r.useState(null),[p,a]=r.useState(!1),[x,n]=r.useState(null),[d,g]=r.useState(!0),f=!1,c=async()=>{try{a(!1);try{const o=await l.get("/api/random-photo-from-dashboard-album");if(o.status===200&&o.data.success){s(o.data.url),a(!1),n(null);return}}catch{console.log("Google Photos fetch failed, trying local photos...")}try{const o=await l.get("/api/random-photo-local");if(o.status===200&&o.data.success){console.log("Local photos fetch successful"),console.log(o.data),s(o.data.url),a(!1),n(null);return}}catch(o){console.error("Local photos fetch failed:",o)}s(i),console.log("Failed to fetch photos from both Google Photos and local storage, using default background"),a(!0),n("Failed to fetch photos from both Google Photos and local storage")}catch(o){console.error("Failed to fetch photo:",o),a(!0),n(o instanceof Error?o.message:"Unknown error"),s(i)}finally{g(!1)}};return r.useEffect(()=>{c();const o=setInterval(c,1e3*60*10);return()=>clearInterval(o)},[]),d?e.jsx("div",{children:"Loading..."}):e.jsx("div",{children:e.jsx("div",{id:"background-image-container",className:"min-h-screen bg-gray-900",style:{backgroundImage:`url(${new URL(u).href})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",transition:"background-image 1s ease-in-out"},children:e.jsx(b,{children:t})})})}function b({children:t}){return e.jsx("div",{className:"",style:{background:`
        linear-gradient(to bottom,
            rgba(0, 0, 0, 0.2) 50%,
            rgba(0, 0, 0, 0) 20%,
            rgba(0, 0, 0, 0) 30%,
            rgba(0, 0, 0, .2) 50%
        )
    `},children:t})}function v({children:t}){return e.jsx(e.Fragment,{children:e.jsx(m,{children:e.jsx("div",{className:"relative",children:e.jsx("main",{children:t})})})})}export{v as H};
//# sourceMappingURL=HaDashboardLayout-CyRxgd75.js.map
