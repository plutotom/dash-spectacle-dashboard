{"version":3,"file":"Manage-Bcvolem0.js","sources":["../../../resources/js/Pages/Messages/Manage.tsx"],"sourcesContent":["import AuthenticatedLayout from '@/Layouts/AuthenticatedLayout';\nimport { Head, router, usePage } from '@inertiajs/react';\n\ntype Message = {\n    id: number;\n    content: string;\n    created_at: string;\n    name?: string;\n};\n\nexport default function Manage({ messages }: { messages: { data: Message[]; links: any[] } }) {\n    const page = usePage();\n    const user = (page.props as any).auth?.user as { role?: string } | undefined;\n\n    return (\n        <AuthenticatedLayout header={<h2 className=\"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200\">Manage Messages</h2>}>\n            <Head title=\"Manage Messages\" />\n\n            <div className=\"mx-auto max-w-4xl space-y-4 p-4\">\n                {user?.role !== 'admin' && <div className=\"rounded bg-yellow-100 p-3 text-yellow-900\">You do not have permission to manage messages.</div>}\n\n                {user?.role === 'admin' && (\n                    <div className=\"space-y-4\">\n                        <form\n                            onSubmit={(e) => {\n                                e.preventDefault();\n                                const form = e.currentTarget;\n                                const data = new FormData(form);\n                                const content = String(data.get('content') || '').trim();\n                                if (!content) return;\n                                router.post(route('messages.store'), { content });\n                                form.reset();\n                            }}\n                            className=\"flex gap-2\"\n                        >\n                            <input name=\"content\" className=\"flex-1 rounded border p-2 text-sm\" placeholder=\"New message\" />\n                            <button className=\"rounded bg-blue-600 px-3 py-2 text-white\">Add</button>\n                        </form>\n\n                        <div className=\"divide-y divide-gray-200 rounded border\">\n                            {messages.data.map((m) => (\n                                <div key={m.id} className=\"flex items-center gap-2 p-2\">\n                                    <form\n                                        onSubmit={(e) => {\n                                            e.preventDefault();\n                                            const data = new FormData(e.currentTarget);\n                                            const content = String(data.get('content') || '').trim();\n                                            router.put(route('messages.update', { message: m.id }), { content });\n                                        }}\n                                        className=\"flex flex-1 items-center gap-2\"\n                                    >\n                                        <input name=\"content\" defaultValue={m.content} className=\"flex-1 rounded border p-2 text-sm\" />\n                                        <button className=\"rounded bg-green-600 px-3 py-2 text-white\">Save</button>\n                                    </form>\n                                    <button\n                                        onClick={() => router.delete(route('messages.destroy', { message: m.id }))}\n                                        className=\"rounded bg-red-600 px-3 py-2 text-white\"\n                                    >\n                                        Delete\n                                    </button>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </AuthenticatedLayout>\n    );\n}\n"],"names":["Manage","messages","user","_a","usePage","jsxs","AuthenticatedLayout","jsx","Head","e","form","data","content","router","m"],"mappings":"oNAUwB,SAAAA,EAAO,CAAE,SAAAC,GAA6D,OAEpF,MAAAC,GAAQC,EADDC,EAAQ,EACF,MAAc,OAAnB,YAAAD,EAAyB,KAGnC,OAAAE,EAAA,KAACC,GAAoB,OAAQC,EAAA,IAAC,MAAG,UAAU,uEAAuE,0BAAe,CAAA,EAC7H,SAAA,CAACA,EAAAA,IAAAC,EAAA,CAAK,MAAM,iBAAkB,CAAA,EAE9BH,EAAAA,KAAC,MAAI,CAAA,UAAU,kCACV,SAAA,EAAAH,GAAA,YAAAA,EAAM,QAAS,SAAWK,MAAC,MAAI,CAAA,UAAU,4CAA4C,SAA8C,iDAAA,GAEnIL,GAAA,YAAAA,EAAM,QAAS,SACXG,EAAA,KAAA,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAA,KAAC,OAAA,CACG,SAAWI,GAAM,CACbA,EAAE,eAAe,EACjB,MAAMC,EAAOD,EAAE,cACTE,EAAO,IAAI,SAASD,CAAI,EACxBE,EAAU,OAAOD,EAAK,IAAI,SAAS,GAAK,EAAE,EAAE,KAAK,EAClDC,IACLC,EAAO,KAAK,MAAM,gBAAgB,EAAG,CAAE,QAAAD,EAAS,EAChDF,EAAK,MAAM,EACf,EACA,UAAU,aAEV,SAAA,CAAAH,MAAC,SAAM,KAAK,UAAU,UAAU,oCAAoC,YAAY,cAAc,EAC7FA,EAAA,IAAA,SAAA,CAAO,UAAU,2CAA2C,SAAG,KAAA,CAAA,CAAA,CAAA,CACpE,EAECA,EAAA,IAAA,MAAA,CAAI,UAAU,0CACV,SAASN,EAAA,KAAK,IAAKa,GAChBT,EAAAA,KAAC,MAAe,CAAA,UAAU,8BACtB,SAAA,CAAAA,EAAA,KAAC,OAAA,CACG,SAAWI,GAAM,CACbA,EAAE,eAAe,EACjB,MAAME,EAAO,IAAI,SAASF,EAAE,aAAa,EACnCG,EAAU,OAAOD,EAAK,IAAI,SAAS,GAAK,EAAE,EAAE,KAAK,EAChDE,EAAA,IAAI,MAAM,kBAAmB,CAAE,QAASC,EAAE,EAAI,CAAA,EAAG,CAAE,QAAAF,EAAS,CACvE,EACA,UAAU,iCAEV,SAAA,CAAAL,MAAC,SAAM,KAAK,UAAU,aAAcO,EAAE,QAAS,UAAU,oCAAoC,EAC5FP,EAAA,IAAA,SAAA,CAAO,UAAU,4CAA4C,SAAI,MAAA,CAAA,CAAA,CAAA,CACtE,EACAA,EAAA,IAAC,SAAA,CACG,QAAS,IAAMM,EAAO,OAAO,MAAM,mBAAoB,CAAE,QAASC,EAAE,EAAG,CAAC,CAAC,EACzE,UAAU,0CACb,SAAA,QAAA,CAAA,CAED,GAlBMA,EAAE,EAmBZ,CACH,CACL,CAAA,CAAA,CACJ,CAAA,CAAA,CAER,CAAA,CAAA,EACJ,CAER"}