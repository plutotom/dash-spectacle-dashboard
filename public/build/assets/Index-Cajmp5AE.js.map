{"version":3,"file":"Index-Cajmp5AE.js","sources":["../../../resources/js/Pages/Messages/Index.tsx"],"sourcesContent":["import AuthenticatedLayout from '@/Layouts/AuthenticatedLayout';\nimport { Message, PageProps } from '@/types';\nimport { Head, router } from '@inertiajs/react';\nimport { useState } from 'react';\n\ninterface MessagesPageProps extends PageProps {\n    messages: {\n        data: Message[];\n        current_page: number;\n        last_page: number;\n    };\n}\n\nexport default function Index({ messages, auth }: MessagesPageProps) {\n    const [deletingId, setDeletingId] = useState<number | null>(null);\n    const [showFullContent, setShowFullContent] = useState<boolean>(false);\n    const [editingMessage, setEditingMessage] = useState<Message | null>(null);\n    const [editForm, setEditForm] = useState({\n        name: '',\n        content: '',\n    });\n\n    const deleteMessage = (id: number) => {\n        if (confirm('Are you sure you want to delete this message?')) {\n            setDeletingId(id);\n            router.delete(route('messages.destroy', id), {\n                onFinish: () => setDeletingId(null),\n            });\n        }\n    };\n\n    const startEdit = (message: Message) => {\n        setEditingMessage(message);\n        setEditForm({\n            name: message.name,\n            content: message.content,\n        });\n    };\n\n    const cancelEdit = () => {\n        setEditingMessage(null);\n        setEditForm({ name: '', content: '' });\n    };\n\n    const saveEdit = (id: number) => {\n        router.put(route('messages.update', id), editForm, {\n            onSuccess: () => {\n                setEditingMessage(null);\n                setEditForm({ name: '', content: '' });\n            },\n        });\n    };\n\n    return (\n        <AuthenticatedLayout header={<h2 className=\"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200\">Messages</h2>}>\n            <Head title=\"Messages\" />\n\n            <div className=\"py-12\">\n                <div className=\"mx-auto max-w-7xl sm:px-6 lg:px-8\">\n                    <div className=\"overflow-hidden bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg\">\n                        <div className=\"p-6\">\n                            <div className=\"overflow-x-auto\">\n                                <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                                    <thead>\n                                        <tr>\n                                            <th className=\"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400\">\n                                                Name\n                                            </th>\n                                            <th className=\"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400\">\n                                                Content\n                                            </th>\n                                            <th className=\"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400\">\n                                                Date\n                                            </th>\n                                            <th className=\"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400\">\n                                                Actions\n                                            </th>\n                                        </tr>\n                                    </thead>\n                                    <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\n                                        {messages.data.map((message) => (\n                                            <tr key={message.id}>\n                                                <td className=\"whitespace-nowrap px-6 py-4 text-gray-900 dark:text-gray-100\">\n                                                    {editingMessage?.id === message.id ? (\n                                                        <input\n                                                            type=\"text\"\n                                                            value={editForm.name}\n                                                            onChange={(e) => setEditForm({ ...editForm, name: e.target.value })}\n                                                            className=\"rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900\"\n                                                        />\n                                                    ) : (\n                                                        message.name\n                                                    )}\n                                                </td>\n                                                <td className=\"px-6 py-4 text-gray-900 dark:text-gray-100\">\n                                                    {editingMessage?.id === message.id ? (\n                                                        <textarea\n                                                            value={editForm.content}\n                                                            onChange={(e) => setEditForm({ ...editForm, content: e.target.value })}\n                                                            className=\"w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900\"\n                                                            rows={3}\n                                                        />\n                                                    ) : message.content.length > 50 ? (\n                                                        <div className=\"flex flex-col items-start\">\n                                                            {showFullContent ? message.content : message.content.substring(0, 50) + '...'}\n\n                                                            <button\n                                                                onClick={() => setShowFullContent(!showFullContent)}\n                                                                className=\"text-blue-600 hover:text-blue-900\"\n                                                            >\n                                                                {showFullContent ? 'Show less' : 'Read more'}\n                                                            </button>\n                                                        </div>\n                                                    ) : (\n                                                        message.content\n                                                    )}\n                                                </td>\n                                                <td className=\"whitespace-nowrap px-6 py-4 text-gray-900 dark:text-gray-100\">\n                                                    {new Date(message.created_at).toLocaleDateString()}\n                                                </td>\n                                                <td className=\"whitespace-nowrap px-6 py-4\">\n                                                    {editingMessage?.id === message.id ? (\n                                                        <div className=\"flex space-x-2\">\n                                                            <button onClick={() => saveEdit(message.id)} className=\"text-green-600 hover:text-green-900\">\n                                                                Save\n                                                            </button>\n                                                            <button onClick={cancelEdit} className=\"text-gray-600 hover:text-gray-900\">\n                                                                Cancel\n                                                            </button>\n                                                        </div>\n                                                    ) : (\n                                                        <div className=\"flex space-x-2\">\n                                                            <button onClick={() => startEdit(message)} className=\"text-blue-600 hover:text-blue-900\">\n                                                                Edit\n                                                            </button>\n                                                            <button\n                                                                onClick={() => deleteMessage(message.id)}\n                                                                disabled={deletingId === message.id}\n                                                                className=\"text-red-600 hover:text-red-900 disabled:opacity-50\"\n                                                            >\n                                                                {deletingId === message.id ? 'Deleting...' : 'Delete'}\n                                                            </button>\n                                                        </div>\n                                                    )}\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </AuthenticatedLayout>\n    );\n}\n"],"names":["Index","messages","auth","deletingId","setDeletingId","useState","showFullContent","setShowFullContent","editingMessage","setEditingMessage","editForm","setEditForm","deleteMessage","id","router","startEdit","message","cancelEdit","saveEdit","jsxs","AuthenticatedLayout","jsx","Head","e"],"mappings":"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"}